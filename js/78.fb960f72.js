"use strict";(self["webpackChunkweek4"]=self["webpackChunkweek4"]||[]).push([[78],{78:function(e,a,s){s.r(a),s.d(a,{default:function(){return K}});var l=s(252),i=s(577),r=s(963),d=s(262),t=s(669),c=s.n(t);const o={class:""},n={class:"container mt-7"},u={class:"row"},b={class:"col-md-12"},p={class:"row"},m={class:"col-md-4 pe-1 mb-md-2 mb-3"},g=["value"],v={class:"col-md-8"},h={class:"input-group mb-3"},w=(0,l._)("span",{class:"material-icons-outlined"}," search ",-1),f=[w],y={key:0,class:"ps-0"},k={class:"d-flex align-items-center mb-3"},_=["src"],x={class:"d-flex flex-column mt-2"},D={href:"#",class:"mb-0 fw-bold"},$={class:"text-muted"},C=["onClick"],H=["src"],z={key:1,class:"card border-2 shadow-black"},U=(0,l.uE)('<div class="card-header bg-white"><div class="d-flex"><div class="p-1 bg-danger border border-light rounded-circle me-1"></div><div class="p-1 bg-success border border-light rounded-circle me-1"></div><div class="p-1 rounded-circle border border-light rounded-circle bg-warning"></div></div></div><div class="card-body py-5"><p class="card-text text-muted text-center"> 目前尚無動態，新增一則貼文吧！ </p></div>',2),S=[U],j=(0,l.uE)('<div class="list-group border border-dark rounded-pill fixed-bottom bg-secondary d-md-none mx-1"><ul class="d-flex justify-content-around mb-0 ps-0"><li class="list-group-item border-0 bg-secondary"><a href="#"><div class="rounded-circle border border-dark p-2 bg-white"><span class="material-icons material-icons-outlined"> home </span></div></a></li><li class="list-group-item border-0 bg-secondary"><a href="#"><div class="rounded-circle border border-dark p-2 bg-white"><span class="material-icons material-icons-outlined"> notifications </span></div></a></li><li class="list-group-item border-0 bg-secondary"><a href="#"><div class="rounded-circle border border-dark p-2 bg-white"><span class="material-icons material-icons-outlined"> thumb_up </span></div></a></li><li class="list-group-item border-0 bg-secondary"><a href="#"><div class="rounded-circle border border-dark p-2 bg-primary"><span class="material-icons material-icons-outlined text-white"> add </span></div></a></li></ul></div>',1);var q={setup(e){const a="https://boiling-wildwood-68884.herokuapp.com/posts";let s=(0,d.qj)([]);const t=(0,d.iH)(""),w=(0,d.iH)([{text:"最新貼文",value:""},{text:"由舊到新",value:"asc"}]),U=(0,d.iH)(""),q=(0,l.f3)("reload"),E=()=>{s.length=0;let e="",l="";""!==U.value&&(e=`search=${U.value}`),""!==t.value&&(l=`timeStamp=${t.value}`),e+=""!==e&&""!==l?`&${l}`:l,e=""===e?a:`${a}/?${e}`,V(e)},K=async e=>{e&&(await c()["delete"](`${a}/${e}`,{data:{_id:e}}).then((e=>{console.log(e.data,"delete success")})).catch((e=>console.log(e))),q())},V=e=>c().get(e).then((e=>{for(let a=0;e.data.data.length>a;a++)s.push(e.data.data[a])}));return(0,l.bv)((()=>{V(a)})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("section",n,[(0,l._)("div",u,[(0,l._)("div",b,[(0,l._)("div",p,[(0,l._)("div",m,[(0,l.wy)((0,l._)("select",{id:"newPost",class:"form-select py-2","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),onChange:E},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.value,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e.value},(0,i.zw)(e.text),9,g)))),128))],544),[[r.bM,t.value]])]),(0,l._)("div",v,[(0,l._)("div",h,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"搜尋貼文","aria-label":"search","aria-describedby":"button-search","onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e)},null,512),[[r.nr,U.value]]),(0,l._)("button",{class:"btn btn-primary",type:"button",id:"button-search",onClick:E},f)])])]),0!==(0,d.SU)(s).length?((0,l.wg)(),(0,l.iD)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,d.SU)(s),(e=>((0,l.wg)(),(0,l.iD)("li",{class:"card h-100 py-4 px-4 mb-3 border-2 shadow-black",key:e},[(0,l._)("div",k,[(0,l._)("img",{src:e.user.photo,class:"mx-3 img-fluid",style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,_),(0,l._)("div",x,[(0,l._)("a",D,(0,i.zw)(e.user.name),1),(0,l._)("small",$,(0,i.zw)(e.createdAt),1)]),(0,l._)("button",{class:"btn btn-outline-danger ms-auto btn-sm",onClick:a=>K(e._id)},"移除",8,C)]),(0,l._)("p",null,(0,i.zw)(e.content),1),e.image?((0,l.wg)(),(0,l.iD)("img",{key:0,src:e.image,alt:"photo1",class:"img-fluid"},null,8,H)):(0,l.kq)("",!0)])))),128))])):((0,l.wg)(),(0,l.iD)("section",z,S))])]),j])]))}};const E=q;var K=E}}]);
//# sourceMappingURL=78.fb960f72.js.map